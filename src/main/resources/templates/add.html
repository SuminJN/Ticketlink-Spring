<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>뮤지컬 등록 페이지</title>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.min.css}"
          href="../static/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<!-- 네비게이션바 -->
<nav th:replace="~{navbar :: navbarFragment}"></nav>

<div class="container" style="max-width: 800px">
    <div class="py-5 text-center">
        <h2>뮤지컬 등록 정보</h2>
    </div>

    <hr class="my-4">

    <div class="row">
        <form action="musical.html" th:action method="post" th:onsubmit="return beforeSubmit()" enctype="multipart/form-data">

            <div class="mb-3">
                <label for="title">제목</label>
                <input type="text" id="title" name="title" class="form-control" placeholder="제목을 입력해주세요">
            </div>

            <div class="mb-3">
                <label for="description">설명</label>
                <input type="text" id="description" name="description" class="form-control"
                       placeholder="설명을 입력해주세요">
            </div>

            <div class="mb-3">
                <label for="genre">장르</label>
                <input type="text" id="genre" name="genre" class="form-control" placeholder="장르를 입력해주세요">
            </div>

            <div class="mb-3">
                <label for="startDate">시작일</label>
                <input type="date" id="startDate" name="startDate" class="form-control">
            </div>

            <div class="mb-3">
                <label for="endDate">종료일</label>
                <input type="date" id="endDate" name="endDate" class="form-control">
            </div>

            <div class="mb-3">
                <label for="runningTime">공연 시간</label>
                <input type="text" id="runningTime" name="runningTime" class="form-control"
                       placeholder="공연 시간을 입력해주세요">
            </div>

            <div class="mb-4">
                <label for="image">공연 포스터</label>
                <input type="file" id="image" name="image" class="form-control" accept="image/*">
            </div>

            <div class="row">
                <div class="col">
                    <button class="w-100 btn btn-primary btn-lg" type="submit">공연 등록</button>
                </div>
                <div class="col">
                    <button class="w-100 btn btn-secondary btn-lg"
                            onclick="location.href='list.html'"
                            th:onclick="|location.href='@{/musicals?page=0}'|"
                            type="button">취소
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
</body>
<script>
    function beforeSubmit() {
        var title = document.getElementById('title').value;
        var description = document.getElementById('description').value;
        var genre = document.getElementById('genre').value;
        var startDate = document.getElementById('startDate').value;
        var endDate = document.getElementById('endDate').value;
        var runningTime = document.getElementById('runningTime').value;

        if(!title) {
            alert("제목을 입력해주세요");
            return false;
        } else if (!description) {
            alert("설명을 입력해주세요");
            return false;
        } else if (!genre) {
            alert("장르를 입력해주세요");
            return false;
        } else if (!startDate) {
            alert("시작 날짜를 선택해주세요");
            return false;
        } else if (!endDate) {
            alert("종료 날짜를 선택해주세요");
            return false;
        } else if (!runningTime) {
            alert("공연 시간 입력해주세요");
            return false;
        }

        return true;
    }
</script>
</html>