<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>공연 수정 페이지</title>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.min.css}"
          href="../static/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<!-- 네비게이션바 -->
<nav th:replace="~{navbar :: navbarFragment}"></nav>

<div class="container" style="max-width: 1200px">
    <div class="py-5 text-center">
        <h2>공연 수정 페이지</h2>
    </div>

    <form action="musical_detail.html" th:action method="post" enctype="multipart/form-data">
        <div class="row">
            <div class="col-9"></div>
            <div class="col-1 p-0">
                <button class="btn btn-danger" th:onclick="confirmDelete([[${musical.id}]])" type="button">삭제하기
                </button>
            </div>
            <div class="col-1 p-0">
                <button class="btn btn-primary" type="submit">저장하기</button>
            </div>
            <div class="col-1 p-0">
                <button class="btn btn-secondary"
                        onclick="location.href='musical_detail.html'"
                        th:onclick="|location.href='@{/musicals/{musicalId}(musicalId=${musical.id})}'|"
                        type="button">수정 취소
                </button>
            </div>
        </div>

        <hr class="mb-4 mt-2">

        <div class="row">
            <img class="col-4" src="../static/images/test.jpg" th:src="@{'/uploadPath' + ${musical.poster.imagePath}}" style="border: 3px solid"/>
            <div class="col-1"></div>
            <div class="col-7">

                <div class="mb-3">
                    <label for="title">제목</label>
                    <input type="text" id="title" name="title" class="form-control" value="제목"
                           th:value="${musical.title}">
                </div>
                <div class="mb-3">
                    <label for="description">설명</label>
                    <input type="text" id="description" name="description" class="form-control" value="설명"
                           th:value="${musical.description}">
                </div>
                <div class="mb-3">
                    <label for="genre">장르</label>
                    <input type="text" id="genre" name="genre" class="form-control" value="장르"
                           th:value="${musical.genre}">
                </div>
                <div class="mb-3">
                    <label for="startDate">시작일</label>
                    <input type="text" id="startDate" name="startDate" class="form-control" value="시작일"
                           th:value="${musical.startDate}">
                </div>
                <div class="mb-3">
                    <label for="endDate">종료일</label>
                    <input type="text" id="endDate" name="endDate" class="form-control" value="종료일"
                           th:value="${musical.endDate}">
                </div>
                <div class="mb-3">
                    <label for="runningTime">공연 시간</label>
                    <input type="text" id="runningTime" name="runningTime" class="form-control" value="공연 시간"
                           th:value="${musical.runningTime}">
                </div>

                <div class="mb-4">
                    <label for="image">공연 포스터 수정</label>
                    <input type="file" id="image" name="image" class="form-control" accept="image/*">
                </div>
            </div>
        </div>
    </form>
</div>
<script>
    function confirmDelete(id) {
        if (confirm('정말 삭제하시겠습니까?')) {
            location.href = './delete';
        }
    }
</script>
</body>
</html>